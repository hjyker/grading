upstream grading {
  server 127.0.0.1:8080;
}

server {
  listen 88;
  server_name 162.14.74.170;
  charset utf-8;

  client_max_body_size 30M;

  location /media {
    alias /data/grading/media;
  }

  location /static {
    alias /data/grading/static;
  }

  location / {
    uwsgi_pass grading;
    include uwsgi_params;
    proxy_set_header  Host $host;
    proxy_set_header  X-Real-IP $remote_addr;
    proxy_set_header  X-Scheme $scheme;
    proxy_set_header  X-Forwarded-Proto $scheme;
    proxy_set_header  X-Forwarded-For $remote_addr;
    proxy_set_header  X-Forwarded-Host $remote_addr;
  }

  access_log /data/grading/log/nginx/grading_ui.access.log;
  error_log /data/grading/log/nginx/grading_ui.error.log;
}
